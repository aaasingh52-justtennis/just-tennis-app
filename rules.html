<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Just Tennis Season 4 - Rules</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            line-height: 1.6;
            max-width: 900px;
            margin: 0 auto;
            padding: 20px;
            padding-top: 70px;
            color: #333;
            background-color: #f5f7fa;
        }
        h1 {
            color: #2c5282;
            border-bottom: 3px solid #2c5282;
            padding-bottom: 10px;
        }
        h2 {
            color: #2c5282;
            margin-top: 30px;
            border-bottom: 2px solid #e2e8f0;
            padding-bottom: 5px;
            cursor: pointer;
            user-select: none;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        h2:hover {
            background-color: #f7fafc;
        }
        h2::after {
            content: '▼';
            font-size: 14px;
            color: #4a5568;
            transition: transform 0.3s ease;
        }
        h2.collapsed::after {
            transform: rotate(-90deg);
        }
        .section-content {
            overflow: hidden;
            transition: max-height 0.3s ease-out;
        }
        .section-content.collapsed {
            max-height: 0 !important;
        }
        
        /* Inner collapsible for detailed transfer */
        .collapsible-header {
            background-color: #e2e8f0;
            padding: 10px;
            border-radius: 5px;
            margin-top: 15px;
            cursor: pointer;
            font-weight: bold;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .collapsible-header::after {
            content: '▼';
            font-size: 12px;
        }
        .collapsible-header.collapsed::after {
            transform: rotate(-90deg);
        }
        .collapsible-body {
            background-color: #f7fafc;
            padding: 0 15px;
            border-left: 3px solid #e2e8f0;
            overflow: hidden;
            transition: max-height 0.3s ease-out;
        }
        .collapsible-body.collapsed {
            max-height: 0 !important;
        }
        
        /* Nav */
        .nav-tabs {
            display: flex; gap: 5px; margin-bottom: 20px; flex-wrap: wrap;
            position: fixed; top: 0; left: 0; right: 0;
            background-color: #f5f7fa; padding: 15px 20px; z-index: 1000;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .nav-tab {
            padding: 10px 20px; background-color: #e2e8f0; color: #4a5568;
            text-decoration: none; border-radius: 8px 8px 0 0; font-weight: bold;
        }
        .nav-tab:hover { background-color: #cbd5e0; }
        .nav-tab.active { background-color: #2c5282; color: white; }
        
        .controls { margin-bottom: 20px; text-align: right; }
        button { padding: 5px 10px; cursor: pointer; }
    </style>
</head>
<body>

<nav class="nav-tabs">
    <a href="index.html" class="nav-tab">Contact List</a>
    <a href="ladder.html" class="nav-tab">Ladder</a>
    <a href="matches.html" class="nav-tab">Matches</a>
    <a href="report-match.html" class="nav-tab">Report Score</a>
    <a href="rules.html" class="nav-tab active">Rules</a>
</nav>

<h1>Just Tennis Season 4 Rules</h1>

<div class="controls">
    <button onclick="expandAll()">Expand All</button>
    <button onclick="collapseAll()">Collapse All</button>
</div>

<h2 onclick="toggleSection(this)">1. Introduction & Season Dates</h2>
<div class="section-content">
    <p><strong>Season 4 Dates:</strong> January 1, 2026 – April 1, 2026</p>
    <p><strong>Playoffs:</strong> April 3, 2026 – May 3, 2026</p>
    <p>Just Tennis is a free community league. Players arrange their own matches via WhatsApp.</p>
</div>

<h2 onclick="toggleSection(this)">2. Format & Scoring</h2>
<div class="section-content">
    <ul>
        <li><strong>Match Format:</strong> Best of 3 sets. 3rd set can be a full set or a super tie-break (10 points) if agreed.</li>
        <li><strong>Points System:</strong>
            <ul>
                <li>1 point for playing (Participation)</li>
                <li>1 point per set won</li>
                <li>2 points bonus for winning</li>
                <li><strong>Max 5 points</strong> per match</li>
            </ul>
        </li>
    </ul>
</div>

<h2 onclick="toggleSection(this)">3. Scheduling & Locations</h2>
<div class="section-content">
    <p>Matches can be played at any court in Dubai. Costs are split 50/50.</p>
    
    <div class="collapsible-header collapsed" onclick="toggleSubsection(this)">
        Detailed Transfer / Cancellation Policy
    </div>
    <div class="collapsible-body collapsed">
        <p>If a player cancels a booked court less than 24 hours in advance, they are responsible for the full court fee.</p>
        <p>If a player is more than 20 minutes late, the opponent can claim a walkover win (recorded as a 2-0 win).</p>
    </div>
</div>

<h2 onclick="toggleSection(this)">4. Rankings & Playoffs</h2>
<div class="section-content">
    <p><strong>Rankings are based on:</strong></p>
    <ol>
        <li>Total Points</li>
        <li>Match Win Percentage</li>
        <li>Set Win Percentage</li>
        <li>Registration Order</li>
    </ol>
    <p><strong>Playoffs:</strong> The top 16 players qualify for the knockout finals.</p>
</div>

<script>
    // CORRECTED JAVASCRIPT FOR HEIGHT CALCULATION
    function toggleSection(header) {
        header.classList.toggle('collapsed');
        const content = header.nextElementSibling;
        
        if (header.classList.contains('collapsed')) {
            content.classList.add('collapsed');
            content.style.maxHeight = null;
        } else {
            content.classList.remove('collapsed');
            // Allow infinite height so inner dropdowns fit
            content.style.maxHeight = "none"; 
        }
    }
    
    function toggleSubsection(header) {
        header.classList.toggle('collapsed');
        const body = header.nextElementSibling;
        
        if (header.classList.contains('collapsed')) {
            body.classList.add('collapsed');
            body.style.maxHeight = null;
        } else {
            body.classList.remove('collapsed');
            body.style.maxHeight = body.scrollHeight + "px";
        }
    }
    
    function expandAll() {
        document.querySelectorAll('h2').forEach(h => {
            h.classList.remove('collapsed');
            const c = h.nextElementSibling;
            c.classList.remove('collapsed');
            c.style.maxHeight = "none";
        });
        document.querySelectorAll('.collapsible-header').forEach(h => {
            h.classList.remove('collapsed');
            const c = h.nextElementSibling;
            c.classList.remove('collapsed');
            c.style.maxHeight = c.scrollHeight + "px";
        });
    }
    
    function collapseAll() {
        document.querySelectorAll('h2, .collapsible-header').forEach(h => h.classList.add('collapsed'));
        document.querySelectorAll('.section-content, .collapsible-body').forEach(c => {
            c.classList.add('collapsed');
            c.style.maxHeight = null;
        });
    }

    // Init: Expand main sections by default
    document.addEventListener('DOMContentLoaded', () => {
        document.querySelectorAll('h2').forEach(h => {
            h.classList.remove('collapsed'); 
            h.nextElementSibling.classList.remove('collapsed');
            h.nextElementSibling.style.maxHeight = "none";
        });
    });
</script>

</body>
</html>